<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.6.0-4-g7f85cfe  Build Version: 1.6.7995.38578
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot
  name="ugv">

  <link
    name="base_link">
    <inertial>
      <origin
        xyz="-8.2112E-05 1.6653E-16 0.027016"    
        rpy="0 0 0" />
      <mass
        value="1.7667" />
      <inertia
        ixx="0.013351"
        ixy="7.6799E-18"
        ixz="1.0856E-05"
        iyy="0.030427"
        iyz="-4.6222E-18"
        izz="0.039051" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/base_link.STL" />
      </geometry>
      <material
        name="iron">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="FR-link">
    <inertial>
      <origin
        xyz="0 0.043367 2.7756E-17"
        rpy="0 0 0" />
      <mass
        value="1.561" />
      <inertia
        ixx="0.0031906"
        ixy="2.0347E-19"
        ixz="-6.8359E-20"
        iyy="0.0044645"
        iyz="1.1704E-19"
        izz="0.0031906" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/FR-link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/FR-link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="FR-joint"
    type="continuous">
    <origin
      xyz="0.1285 -0.20347 0.0262"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="FR-link" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="BL-link">
    <inertial>
      <origin
        xyz="-3.4694E-18 -0.043367 2.7756E-17"
        rpy="0 0 0" />
      <mass
        value="1.561" />
      <inertia
        ixx="0.0031906"
        ixy="1.547E-19"
        ixz="-2.1838E-19"
        iyy="0.0044645"
        iyz="3.7794E-20"
        izz="0.0031906" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/BL-link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/BL-link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="BL-joint"
    type="continuous">
    <origin
      xyz="-0.1285 0.20347 0.0262"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="BL-link" />
    <axis
      xyz="0 1 0" />
  </joint>
  <link
    name="BR-link">
    <inertial>
      <origin
        xyz="6.9389E-18 0.043367 2.7756E-17"
        rpy="0 0 0" />
      <mass
        value="1.561" />
      <inertia
        ixx="0.0031906"
        ixy="1.6445E-19"
        ixz="-1.0362E-38"
        iyy="0.0044645"
        iyz="6.7508E-36"
        izz="0.0031906" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/BR-link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
      xyz="0 0 0"
      rpy="1 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/BR-link.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="BR-joint"
    type="continuous">
    <origin
      xyz="-0.1285 -0.20347 0.0262"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="BR-link" />
    <axis
      xyz="0 1 0" />
    <mimic joint="BL-joint" multiplier="1.0" offset="0.0"/>
  </joint>
  <link
    name="FL-link">
    <inertial>
      <origin
        xyz="-1.1102E-16 -0.043367 -2.7756E-17"
        rpy="0 0 0" />
      <mass
        value="1.561" />
      <inertia
        ixx="0.0031906"
        ixy="9.0379E-19"
        ixz="-1.6026E-20"
        iyy="0.0044645"
        iyz="8.5342E-19"
        izz="0.0031906" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/FL-link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.79216 0.81961 0.93333 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://ugv/meshes/FL-link.STL" />
      </geometry>
         <surface>
      <friction>
        <ode>
          <mu>1</mu> <!-- Coefficient of friction -->
          <mu2>0.05</mu2> <!-- Secondary coefficient -->
        </ode>
      </friction>
    </surface>
    </collision>
  </link>
  <joint
    name="FL-joint"
    type="continuous">
    <origin
      xyz="0.1285 0.20347 0.0262"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="FL-link" />
    <axis
      xyz="0 1 0" />
    <mimic joint="FR-joint" multiplier="1.0" offset="0.0"/>
  </joint>

    <link name="laser">
    <inertial>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <mass value="0.1"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.05" length="0.05"/>
      </geometry>
      <material name="gray"/>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <cylinder radius="0.05" length="0.05"/>
      </geometry>
    </collision>
 </link>

  <joint name="lidar_joint" type="fixed">
    <parent link="base_link"/>
    <child link="laser"/>
    <origin xyz="0 0 0.125" rpy="0 0 0"/>
  </joint>

    <gazebo reference = "laser">
      <sensor type="ray" name="lidar_sensor">
        <pose>0 0 0 0 0 0</pose>
        <visualize>true</visualize>
        <update_rate>50</update_rate>
        <ray>
          <scan>
            <horizontal>
              <samples>360</samples>
              <resolution>1</resolution>
              <min_angle>-3.14</min_angle>
              <max_angle>3.14</max_angle>
            </horizontal>
          </scan>
          <range>
            <min>0.3</min>
            <max>8.0</max>
            <resolution>0.01</resolution>
          </range>
          <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.01</stddev>
          </noise>
        </ray>
        <plugin name="laser_controller" filename="libgazebo_ros_laser.so">
          <topicName>/scan</topicName>
          <frameName>laser</frameName>
        </plugin>
      </sensor>
    </gazebo>

<gazebo>
    <plugin name="gazebo_ros_diff_drive" filename="libgazebo_ros_diff_drive.so">
    <parameter name="use_sim_time" value="true"/>
    <broadcastTF>true</broadcastTF>
    <updateRate>50.0</updateRate>
    <commandTopic>cmd_vel</commandTopic>
    <odometryTopic>odom</odometryTopic>
    <odometryFrame>odom</odometryFrame>
    <robotBaseFrame>base_link</robotBaseFrame>
    <publishWheelTF>true</publishWheelTF>
    <publishOdomTF>true</publishOdomTF>
    <publishWheelJointState>true</publishWheelJointState>
    <rosDebugLevel>info</rosDebugLevel>
    <odometrySource>1</odometrySource>
    <publishTf>1</publishTf>
  
    <leftJoint>BL-joint</leftJoint>
    <rightJoint>FR-joint</rightJoint>  
    <wheelSeparation>0.30</wheelSeparation>  <!--0.496-->
    <wheelDiameter>0.14</wheelDiameter>  <!--0.15-->
    
    <wheelAcceleration>10.0</wheelAcceleration>
    <wheelTorque>5.0</wheelTorque>
    <torque>5.0</torque>
    <covariance_x>0.0001</covariance_x>
    <covariance_y>0.0001</covariance_y>
    <covariance_yaw>0.01</covariance_yaw>
  </plugin>
</gazebo>



</robot>